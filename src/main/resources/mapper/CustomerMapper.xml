<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.port.lagarto.customer.CustomerMapper">
    <insert id="insReview">
        INSERT INTO lagarto_review
            (title, ctnt, iuser)
        VALUES
            (#{title}, #{ctnt}, ${iuser})
    </insert>
    <select id="selReviewList" resultType="CustomerVo">
        SELECT A.iboard, A.iproduct, A.title, A.iuser, A.rdt, B.nickname, B.profileImg, C.title AS productTitle, C.iboard FROM lagarto_review A
        INNER JOIN lagarto_user B ON A.iuser = B.iuser
        LEFT JOIN lagarto_main C ON A.iproduct = C.iboard
        ORDER BY A.iboard DESC
    </select>
    <select id="selHelpList" resultType="CustomerVo">
        SELECT A.iboard, A.title, A.iuser, A.rdt, B.nickname, B.profileImg FROM lagarto_help A
        LEFT JOIN lagarto_user B ON A.iuser = B.iuser
        ORDER BY A.iboard DESC
    </select>
    <select id="selCommunityList" resultType="CustomerVo">
        SELECT A.iboard, A.title, A.iuser, A.rdt, B.nickname, B.profileImg FROM lagarto_community A
        LEFT JOIN lagarto_user B ON A.iuser = B.iuser
        ORDER BY A.iboard DESC
    </select>


</mapper>